<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1">
    <title>Edit User</title>
</head>
<body>
<div>
    <h1>Edit User</h1>
    <hr>
    <h2>Enter data</h2>

    <form action="#" th:action="@{/admin/update_user}" th:object="${edit}" method="POST">
        <!-- Add hidden form field to handle update -->
        <input type="hidden" th:field="*{id}" />
        <input type="text" th:field="*{name}" placeholder="Name">
        <input type="text" th:field="*{lastname}" placeholder="Last Name">
        <input type="text" th:filed="*{password}" placeholder="Password">
        <input type="text" th:field="*{age}" placeholder="Age">
        <input type="text" th:field="*{email}" placeholder="E-mail">
        <select multiple size="2"

                th:value="${edit.roleAsSting()}" required
                th:field="*{roles}">

            <option
                    th:each="role:${rolesList}"
                    th:value="${role.getId()}"
                    th:selected="${edit.getRoles().contains(role)}"
                    th:text="${role.toString()}">
            </option>
        </select>

        <button type="submit">Update User</button>
    </form>

    <hr>

    <h3><a th:href="@{/admin/}"> Back to Users List</a></h3>

    <h3><a th:href="@{/logout}">Logout</a></h3>
</div>
</body>
</html>